!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.mapScale=n()}(this,function(){function e(e,n){return n={exports:{}},e(n,n.exports),n.exports}var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=e(function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(n,a){"object"===r(t)?e.exports=a():n.Humanize=a()}(n,function(){var e=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],n={P:Math.pow(2,50),T:Math.pow(2,40),G:Math.pow(2,30),M:Math.pow(2,20)},t=function(e){return"undefined"!=typeof e&&null!==e},a=function(e){return e!==e},u=function(e){return isFinite(e)&&!a(parseFloat(e))},o=function(e){var n=Object.prototype.toString.call(e);return"[object Array]"===n},i={intword:function(e){var n=arguments.length<=2||void 0===arguments[2]?2:arguments[2];return i.compactInteger(e,n)},compactInteger:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];n=Math.max(n,0);var t=parseInt(e,10),r=0>t?"-":"",a=Math.abs(t),u=String(a),o=u.length,i=[13,10,7,4],s=["T","B","M","k"];if(1e3>a)return""+r+u;if(o>i[0]+3)return t.toExponential(n).replace("e+","x10^");for(var l=void 0,g=0;g<i.length;g++){var m=i[g];if(o>=m){l=m;break}}var f=o-l+1,c=u.split(""),d=c.slice(0,f),v=c.slice(f,f+n+1),p=d.join(""),h=v.join("");h.length<n&&(h+=""+Array(n-h.length+1).join("0"));var b=void 0;if(0===n)b=""+r+p+s[i.indexOf(l)];else{var y=Number(p+"."+h).toFixed(n);b=""+r+y+s[i.indexOf(l)]}return b},intComma:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return i.formatNumber(e,n)},intcomma:function(){return i.intComma.apply(i,arguments)},fileSize:function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1];for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];if(e>=a)return i.formatNumber(e/a,t,"")+" "+r+"B"}return e>=1024?i.formatNumber(e/1024,0)+" KB":i.formatNumber(e,0)+i.pluralize(e," byte")},filesize:function(){return i.fileSize.apply(i,arguments)},formatNumber:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=arguments.length<=2||void 0===arguments[2]?",":arguments[2],r=arguments.length<=3||void 0===arguments[3]?".":arguments[3],a=function(e,n,t){return t?e.substr(0,t)+n:""},u=function(e,n,t){return e.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+n)},o=function(e,n,t){return t?n+i.toFixed(Math.abs(e),t).split(".")[1]:""},s=i.normalizePrecision(n),l=0>e&&"-"||"",g=String(parseInt(i.toFixed(Math.abs(e||0),s),10)),m=g.length>3?g.length%3:0;return l+a(g,t,m)+u(g,t,m)+o(e,r,s)},toFixed:function(e,n){n=t(n)?n:i.normalizePrecision(n,0);var r=Math.pow(10,n);return(Math.round(e*r)/r).toFixed(n)},normalizePrecision:function(e,n){return e=Math.round(Math.abs(e)),a(e)?n:e},ordinal:function(e){var n=parseInt(e,10);if(0===n)return e;var t=n%100;if([11,12,13].indexOf(t)>=0)return n+"th";var r=n%10,a=void 0;switch(r){case 1:a="st";break;case 2:a="nd";break;case 3:a="rd";break;default:a="th"}return""+n+a},times:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(u(e)&&e>=0){var r=parseFloat(e),a=["never","once","twice"];if(t(n[r]))return String(n[r]);var o=t(a[r])&&a[r].toString();return o||r.toString()+" times"}return null},pluralize:function(e,n,r){return t(e)&&t(n)?(r=t(r)?r:n+"s",1===parseInt(e,10)?n:r):null},truncate:function(e){var n=arguments.length<=1||void 0===arguments[1]?100:arguments[1],t=arguments.length<=2||void 0===arguments[2]?"...":arguments[2];return e.length>n?e.substring(0,n-t.length)+t:e},truncateWords:function(e,n){for(var r=e.split(" "),a="",u=0;n>u;)t(r[u])&&(a+=r[u]+" "),u++;return r.length>n?a+"...":null},truncatewords:function(){return i.truncateWords.apply(i,arguments)},boundedNumber:function(e){var n=arguments.length<=1||void 0===arguments[1]?100:arguments[1],t=arguments.length<=2||void 0===arguments[2]?"+":arguments[2],r=void 0;return u(e)&&u(n)&&e>n&&(r=n+t),(r||e).toString()},truncatenumber:function(){return i.boundedNumber.apply(i,arguments)},oxford:function(e,n,r){var a=e.length,u=void 0;if(2>a)return String(e);if(2===a)return e.join(" and ");if(t(n)&&a>n){var o=a-n;u=n,r=t(r)?r:", and "+o+" "+i.pluralize(o,"other")}else u=-1,r=", and "+e[a-1];return e.slice(0,u).join(", ")+r},dictionary:function(e){var n=arguments.length<=1||void 0===arguments[1]?" is ":arguments[1],a=arguments.length<=2||void 0===arguments[2]?", ":arguments[2],u="";if(t(e)&&"object"===("undefined"==typeof e?"undefined":r(e))&&!o(e)){var i=[];for(var s in e)if(e.hasOwnProperty(s)){var l=e[s];i.push(""+s+n+l)}return i.join(a)}return u},frequency:function(e,n){if(!o(e))return null;var t=e.length,r=i.times(t);return 0===t?r+" "+n:n+" "+r},pace:function(n,t){var r=arguments.length<=2||void 0===arguments[2]?"time":arguments[2];if(0===n||0===t)return"No "+i.pluralize(0,r);for(var a="Approximately",u=void 0,o=void 0,s=n/t,l=0;l<e.length;++l){var g=e[l];if(o=s*g.value,o>1){u=g.name;break}}u||(a="Less than",o=1,u=e[e.length-1].name);var m=Math.round(o);return r=i.pluralize(m,r),a+" "+m+" "+r+" per "+u},nl2br:function(e){var n=arguments.length<=1||void 0===arguments[1]?"<br/>":arguments[1];return e.replace(/\n/g,n)},br2nl:function(e){var n=arguments.length<=1||void 0===arguments[1]?"\r\n":arguments[1];return e.replace(/\<br\s*\/?\>/g,n)},capitalize:function(e){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return""+e.charAt(0).toUpperCase()+(n?e.slice(1).toLowerCase():e.slice(1))},capitalizeAll:function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},titleCase:function(e){var n=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,t=/\S+[A-Z]+\S*/,r=/\s+/,a=/-/,u=void 0;return(u=function(e){for(var o=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],s=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],l=[],g=e.split(o?a:r),m=0;m<g.length;++m){var f=g[m];l.push(-1===f.indexOf("-")?!s||0!==m&&m!==g.length-1?t.test(f)?f:n.test(f)?f.toLowerCase():i.capitalize(f):t.test(f)?f:i.capitalize(f):u(f,!0,0===m||m===g.length-1))}return l.join(o?"-":" ")})(e)},titlecase:function(){return i.titleCase.apply(i,arguments)}};return i})}),r=function(e){if(0>e)throw new Error("zoom must be greater than 0");if(e>29)throw new Error("zoom must be less than 29");var n={0:6e8,1:3e8,2:15e7,3:75e6,4:35e6,5:2e7,6:1e7,7:5e7,8:25e5,9:1e6,10:5e5,11:25e4,12:15e4,13:75e3,14:35e3,15:2e4,16:1e4,17:5e3,18:2500,19:1e3,20:500,21:300,22:150,23:70,24:35,25:20,26:10,27:5,28:2.5,29:1,30:1},r=Math.floor(e),a=(n[r]-n[r+1])*(e%1),u=n[r]-a,o=t.compactInteger(u,0);return"1:"+o.toUpperCase()};return r});